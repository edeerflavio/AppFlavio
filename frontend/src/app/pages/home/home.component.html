<!-- Header removed, handled by MainLayout -->

<main class="main-container">

    <!-- ERROR ALERT -->
    <div class="alert-error" *ngIf="erro">
        <strong>⚠️ Erro:</strong> {{ erro }}
    </div>

    <!-- INPUT FORM -->
    <app-input-form [(nomeCompleto)]="nomeCompleto" [(idade)]="idade" [(cenarioAtendimento)]="cenarioAtendimento"
        [(textoTranscrito)]="textoTranscrito" [gravando]="gravando" [processando]="processando"
        [tempoGravacao]="tempoGravacao" [hasResult]="!!resultado" (gravar)="onGravar()" (analisar)="onAnalisar()"
        (limpar)="onLimpar()"></app-input-form>

    <!-- RESULT DASHBOARD -->
    <div class="dashboard-grid" *ngIf="resultado">

        <!-- LEFT COLUMN -->
        <div class="col-main">
            <app-patient-header [patient]="resultado.patient"></app-patient-header>
            <app-soap-cards [soap]="resultado.soap"></app-soap-cards>
        </div>

        <!-- RIGHT COLUMN -->
        <div class="col-sidebar">
            <app-clinical-json [clinicalData]="resultado.clinicalData"
                [jsonUniversal]="resultado.jsonUniversal"></app-clinical-json>
            <app-documents-panel [documents]="resultado.documents"></app-documents-panel>
            <app-dialog-panel [dialog]="resultado.dialog"></app-dialog-panel>
        </div>

    </div>

</main>